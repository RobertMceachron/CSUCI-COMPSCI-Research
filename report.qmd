---
title: "An analysis of undergraduate major graduation rates within the department of computer science at CSUCI"
subtitle: "MATH 398 (Fall 2025)"
author: "Monique Calatayud, Robert McEachron, and Morgan McMurray"
format: 
  html:
    df-print: paged
    toc: true
    toc-expand: 2
    toc-location: left
    embed-resources: true
    number-sections: true
execute:
  warning: false
  message: false
editor: 
  markdown: 
    wrap: 72
knitr:
  opts_chunk:
    message: false
    warning: false
---

# Introduction

## Motivation

Despite calls to address the lack of racial and gender diversity in
computing fields, white and Asian males continue to be over-represented
among graduates from American universities' computing degree programs
(Zahedi et al., 2021). Limited minority representation among these
graduates reflects the documented racial and gender disparities that
exist in the wider tech industry. In 2022, 38.9% of computing bachelor's
degrees awarded by US higher education institutions were obtained by
white men, and 13.6% were obtained by Asian men (Campbell, 2024). Also
in 2022, 47.6% of the American "high tech workforce" was composed of
white men, and 13.3% was composed of Asian men (*High Tech, Low
Inclusion,* 2024). In contrast, 10.9% of computing bachelor's degrees
granted by American universities in 2022 were awarded to white women,
followed by 10.1% awarded to Hispanic/Latino men, 6.1% awarded to Asian
women, 5.8% awarded to Black men, 3.4% awarded to Hispanic/Latino women,
and 2.6% awarded to Black women (Campbell, 2024). Similarly, the high
tech workforce in 2022 was composed of 12.3% white women, 7.7%
Hispanic/Latino men, 4.8% Asian women, 5.1% Black men, 2.2%
Hispanic/Latino women, and 2.3% Black women (*High Tech, Low Inclusion*,
2024). These disparities have a direct impact on product design — from
fitness trackers that do not operate on dark skin to recruitment tools
penalizing resumes with the word "women's" and de-prioritizing graduates
from all-female colleges (*Inclusion In Tech*, 2019). Thus,
understanding the factors contributing to sustained minority
under-representation among computing graduates is critical to building a
pipeline of talent that fosters equitable and inclusive technological
development.

Minority-serving institutions — including Historically Black Colleges
and Universities (HBCUs) and Hispanic-Serving Institutions (HSIs) — play
a particularly important role in cultivating this pipeline of diverse
tech talent, because they graduate a substantial number of minorities in
tech ("HBCUs and HSIs", 2014). One such minority-serving institution is
California State University Channel Islands (CSUCI), a Hispanic-Serving
Institution located in Camarillo, California. Of the 719 undergraduate
degrees awarded by the university's Computer Science program between
2015 and 2025, 33.9% were obtained by Hispanic/Latino students and 27.0%
were obtained by women (*Degrees Dashboard: Programs*, 2025). Relative
to national statistics, CSUCI awards computing degrees to a much higher
proportion of women and Hispanic/Latino students, emphasizing the
importance of understanding the factors behind minority student
graduation at CSUCI. Thus, the current study will examine demographics
among students enrolled in the Computer Science Program at CSUCI, while
painting a holistic picture of the department. Additionally, factors
predicting graduation rates among students in the program will expose
problem areas necessary for intervention. The findings aim to help CSUCI
and similar institutions design targeted interventions to support
at-risk computer science students, ultimately contributing to a more
diverse and inclusive technology workforce that better serves society as
a whole.

## Literature Review

There has been much prior work examining the factors behind minority
graduation in computer science and technology-related degrees in the
United States. [Lunn et
al.](https://dl-acm-org.ezproxy.csuci.edu/doi/abs/10.1145/3445985)
analyzed enrollment and graduation rates for different intersectional
demographics of college students in computing degrees from the MIDFIELD
database. Combined with historical context analysis, the goal of the
study was to analyze trends in computing degree enrollment and
graduation from 1987 to 2018.

## Research Questions

The current study aims to answer the following research questions:

1.  Do graduation rates in CSUCI's Computer Science Department differ
    across key demographic, academic, and enrollment-related variables?

2.  What influence do the following variables have on whether students
    graduate from the Department of Computer Science?

The variables being analyzed in this study are:

-   Hispanic Identity
-   Gender Identity
-   Transfer Status
-   Number of Units Taken per Term
-   Campus Housing Status per Term
-   Number of Tutoring Visits per Term

# Methods {#sec-methods}

The following sections describe the process behind acquiring, preparing,
and analyzing the data. The @sec-data section [characterizes the
original dataset](@sec-data_descr), and then explains how and why the
original dataset was [cleaned](@sec-data_clean),
[pivoted](@sec-data_pivot), and [subset](@sec-data_subset). The
@sec-descr_stats section graphs key metrics of the [first](@sec-descr_1)
and [second](@sec-descr_2) samples taken from the dataset. Finally, the
@sec-stats_back section details the theoretical foundations and
assumptions of [chi-square](@sec-cs_back), [logistic
regression](@sec-lr_back), and [survival analysis](@sec-sa_back) — the
three statistical methods used to interpret the data.

## Data {#sec-data}

All data was analyzed using R version 4.5.2.

### Data Description {#sec-data_descr}

The data was obtained from the Office of Institutional Research (IR) and
included 1,691 students enrolled in the Department of Computer Science
at California State University Channel Islands (CSUCI) between Fall 2015
and Fall 2025. Fall, Winter, Spring, and Summer terms were included.
There was a total of 11,407 rows, each representing one term for a
student.

The following includes an explanation of our static variables, meaning
they do not change across the student's terms:

```         
  Student: numeric annoymized student identifier
  First_CI_Term: numeric identifier for the term that students started at CI
  First_CI_Term_Desc: word description of First_CI_Term
  First_CS_Term: numeric identifier for the term that students started a major under the Department of Computer Science at CSUCI
  First_CS_Term_Desc: word description of First_CS_Term
  Is_Transfer: binary, 1 for yes, 0 for no
  Did_Graduate: numeric identifier for the term that the student graduated from CSUCI, or 0 if they did not graduate
  Dependent_Income_Code: categorical, values 1-7 representing ranges of the student's parents' gross annual income (if the student was considered a "dependent"), or 8 if there is no response
```

The following variables are time series dependent, meaning the values
are dynamic across each student's terms:

```         
  Term_Code: numeric identifier for term
  Term_Desc: word description of the term that corresponds to Term_Code
  Is_Hispanic: binary; 1 for yes, 0 for no
  Gender: categorical; values include "Man," "Woman," and "Non-Binary"
  major1, major2, major3: character string codes for the major(s) that students had declared during the term in question
  major1 Descr, major2 Descr, major3 Descr: word description(s) of the major(s) in major1, major2, and major3
  Unit_Load: numeric, number of units attempted during a given term
  Lived_On_Campus: binary; 1 for yes, 0 for no
  Num_Tutoring_Visits: integer, total count of visits to LRC, WMC, and STEM Center
```

### Data Cleaning {#sec-data_clean}

The following process was conducted to focus on non-current
undergraduate students who declared only one major throughout their
academic trajectory.

To simplify the data, `Term_Desc` and the `major1`-`major3` columns were
removed. The columns `major1 Descr`, `major2 Descr` and `major3 Descr`
were renamed to include underscores for R accessibility.

Multiple remaining rows per student had the same `Term_Code` but
different `Dependent_Income_Code`s. The last unique term row per student
was maintained; the rest were removed (*n* = 2150 rows). Students whose
last term row did not match their graduation term code were also removed
(*n* = 277 rows), as time series variables were not included in their
graduation term. Additionally, current students (*n* = 2,053 rows),
students who declared two or more majors at any term (*n* = 573 rows),
and those who were in a Master's program (*n* = 12 rows) were removed.
After these exclusions, N = 6342 term rows and N = 1091 students
remained.

The `Did_Graduate` column was re-coded to represent students who: did
not graduate ($Did\_Graduate = 0$), graduated with one of the majors
within the computer science program ($Did\_Graduate \neq 0$ and
`major1_Descr` was either `"BS: Computer Science"`, `"BS: Information`
`Technology"`, `"BS: Mechatronics Engineering"`, or
`"BS: Mechatronics"`), or graduated with another major
($Did\_Graduate \neq 0$ and `major1_Descr` was not any of the majors
offered by the Department of Computer Science). Students who either did
not graduate or graduated with a major outside of the Department of
Computer Science were eventually re-coded as 0, and students who
graduated with one of the majors within the computer science program
were eventually re-coded as 1.

Finally, rows corresponding to terms outside of a student's enrollment
in the computer science program were excluded (*n* = 640 rows), leaving
the final dataset for pivoting (N = 5702 rows).

::: panel-tabset
#### Final Cleaning Code

```{r}
# Load necessary libraries
library(tidyverse)
library(readxl)

# Read excel data into dataframe
# Set the max number of rows to use in creating the guess type for each column
# This helps get rid of warnings about guess types mismatching inputs read from the actual rows
# The number of rows used to determine column type is the max because our dataset is sparse
orig_data <- read_excel("CS Major Data 2025-10-10.xlsx", guess_max = min(8400, n_max = NULL))
odata <- orig_data

# Get rid of term description columns and major1, major2, and major3 columns (we have description columns for these instead)
removed_term_descs_and_major_codes <- orig_data %>% 
  select(-one_of("Term_Desc", "First_CI_Term_Desc", "First_CS_Term_Desc", "major1", "major2", "major3"))

# Remove duplicates, retain last of near-duplicate rows (1 row per term per student)
de_duped_reduced <- removed_term_descs_and_major_codes %>% 
  group_by(Student, Term_Code) %>% 
  slice_tail(n = 1) %>% 
  ungroup()

# Rename major description columns to include underscores (makes them easier to work with)
names(de_duped_reduced)[which(colnames(de_duped_reduced) == "major1 Descr")] <- "major1_Descr"
names(de_duped_reduced)[which(colnames(de_duped_reduced) == "major2 Descr")] <- "major2_Descr"
names(de_duped_reduced)[which(colnames(de_duped_reduced) == "major3 Descr")] <- "major3_Descr"

# Identify students who graduated, but their last term row doesn't match their graduation code
mismatch <- de_duped_reduced %>% 
  filter(Did_Graduate != 0) %>% 
  group_by(Student) %>% 
  slice_tail(n = 1) %>% 
  filter(Term_Code != Did_Graduate) %>% 
  pull(Student)

# Remove students whose last term row doesn't match their graduation code
ddr_filtered_mismatch <- de_duped_reduced %>% 
  filter(!Student %in% mismatch)

# Identify current students and remove them
# 2258 = "Fall 2025"
ddrfm_removed_current_students <- ddr_filtered_mismatch %>% 
  group_by(Student) %>% 
  filter(!any(Term_Code == 2258)) %>% 
  ungroup()

# Identify and keep single majors, exclude everyone else
only_single_majors <- ddrfm_removed_current_students %>% 
  group_by(Student) %>% 
  filter((all(is.na(major2_Descr)) == TRUE) && (all(is.na(major3_Descr)) == TRUE)) %>%
  ungroup()

# Remove students who graduated with a master's program in computer science
only_undergrads <- only_single_majors %>% 
  group_by(Student) %>% 
  filter(!any(major1_Descr == "MS: Computer Science")) %>% 
  ungroup()

# ------------------------------------------------------------------------------------------------------------------------------------------------
# Re-code "Did_Graduate" to the following scheme:
# 0 --> No
# nonzero AND major1_Descr equals one of: "BS: Computer Science," "BS: Information Technology," "BS: Mechatronics Engineering," "BS: Mechatronics"
# --> Yes, with CS/IT/EMEC
# nonzero AND major1_Descr is anything else 
# --> Yes, with another major
# ------------------------------------------------------------------------------------------------------------------------------------------------

# Get students who did not graduate with majors from the CS program
cs_dept_majors <- c("BS: Computer Science", "BS: Information Technology", "BS: Mechatronics Engineering", "BS: Mechatronics")
students_wo_cs <- only_undergrads %>% 
  group_by(Student) %>% slice_tail(n = 1) %>% 
  filter(!(major1_Descr %in% cs_dept_majors)) %>% 
  ungroup() %>% 
  pull(Student)

# Recode "Did_Graduate" according to the scheme above
recoded_graduation <- only_undergrads %>% 
  group_by(Student) %>% 
  mutate(Did_Graduate = case_when(Did_Graduate == 0 ~ "No",
                                  (Did_Graduate != 0) & (Student %in% students_wo_cs) ~ "Yes, with another major",
                                  TRUE ~ "Yes, with CS/IT/EMEC")) %>% 
  ungroup()

# Exclude all rows outside of when students were enrolled in a program under the department of computer science
only_cs_rows <- recoded_graduation %>% 
  group_by(major1_Descr) %>% 
  filter(major1_Descr %in% cs_dept_majors)

# Reorder columns to put static data in one area of the dataframe, and time-series in the other
cleaned_and_reordered <- only_cs_rows %>% 
  select(Student, Is_Hispanic, Gender, Is_Transfer, Dependent_Income_Code, First_CI_Term, First_CS_Term, major1_Descr, 
         major2_Descr, major3_Descr, Did_Graduate, Term_Code, Unit_Load, Lived_On_Campus, Num_Tutoring_Visits)

cdata <- cleaned_and_reordered
```

#### Step Justifications

```{r}
# Load necessary libraries
library(tidyverse)
library(readxl)

# Read excel data into dataframe
# Set the max number of rows to use in creating the guess type for each column
# This helps get rid of warnings about guess types mismatching inputs read from the actual rows
# The number of rows used to determine column type is the max because our dataset is sparse
# orig_data <- read_excel("CS Major Data 2025-10-10.xlsx", guess_max = min(8400, n_max = NULL))
```

**Confirmation of entirely duplicate rows:**

```{r}
sum(duplicated(orig_data))
```

**Confirmation of nearly duplicate rows --- and that
`Dependent_Income_Code` was the problem:**

```{r}
orig_data %>% 
  distinct() %>% 
  group_by(Student, Term_Code) %>% 
  add_tally(sort = TRUE) %>% 
  filter(n > 1) %>%
  summarize(n_distinct(Dependent_Income_Code)) %>%
  ungroup()
```

**Confirmation of the presence of students who graduated, but their last
term code did not match their graduation term code:**

```{r}
orig_data %>%
  select(Student, Term_Code, Did_Graduate) %>%
  distinct() %>%
  group_by(Student) %>% 
  slice_tail(n = 1) %>%
  ungroup() %>%
  filter((Did_Graduate > 0) & (Term_Code != Did_Graduate))
  
```

**Confirmation that `Term_Code` 2258 is "Fall 2025":**

```{r}
orig_data %>% 
  select(Term_Code, Term_Desc) %>% 
  distinct() %>%
  filter(Term_Desc == "Fall 2025")
```
:::

### Data Pivoting {#sec-data_pivot}

The dataset was pivoted to represent one row per student in order to
ensure compatibility with statistical methods and reduce redundancy.

Because the number of terms a student was enrolled in a major from the
Computer Science Program varies by student, dataset pivoting was done
through a for loop that created new rows based on whether a change in
the `Student` column was observed. A detailed walk through of the code
is written below.

The primary statistical method in this analysis is logistic regression.
Since the original data was collected as a time series, independence
(one of the assumptions of logistic regression) was violated. Pivoting
the original dataset such that each observation is an individual student
creates independence and, in part, assures that the assumptions for
logistic regression are met.

Due to the small sample size of non-binary (*n* = 1) students, their
value was re-coded as being female for future analyses. Personal
experience of gender-based marginalization by one of the researchers ---
a non-binary person majoring in computer science --- informed this
decision.

```{r}
# Get first row of all static data columns
static_data <- c("Student", "Is_Hispanic", "Gender", "Is_Transfer", 
                 "Dependent_Income_Code", "First_CI_Term", "First_CS_Term", 
                 "major1_Descr", "major2_Descr", "major3_Descr", "Did_Graduate")

pivoted <- cleaned_and_reordered[1, static_data]

# Get relevant pivoting variables from the first student
# Such that the pivoting loop can be initialized
current_id <- cleaned_and_reordered[1, "Student"]
current_major1 <- cleaned_and_reordered[1, "major1_Descr"]
current_major2 <- cleaned_and_reordered[1, "major2_Descr"]
current_major3 <- cleaned_and_reordered[1, "major3_Descr"]
current_term <- 1
current_entry <- 1

# The loop that pivots the data
for (current_row in 1:nrow(cleaned_and_reordered)) {
  
  # If the current student number is different from the saved student number,
  # Save the new student number and their majors, reset term number,
  # and add a new row with static data
  if (cleaned_and_reordered[current_row, "Student"] != current_id) {
    current_id <- cleaned_and_reordered[current_row, "Student"]
    current_major1 <- cleaned_and_reordered[current_row, "major1_Descr"]
    current_major2 <- cleaned_and_reordered[current_row, "major2_Descr"]
    current_major3 <- cleaned_and_reordered[current_row, "major3_Descr"]
    current_term <- 1
    current_entry <- current_entry + 1
    pivoted[current_entry, ] <- c(cleaned_and_reordered[current_row, static_data], rep(NA, each = (ncol(pivoted) - length(static_data))))
  }
  
  # Initialize the column names for the current term
  # These will be populated with values for the time-dependent variables
  current_col_label <- paste("T", current_term, "_", sep = "")
  current_cols <- c(paste(current_col_label, "Term_Code", sep=""),
                    paste(current_col_label, "Unit_Load", sep=""),
                    paste(current_col_label, "Lived_On_Campus", sep=""),
                    paste(current_col_label, "Num_Tutoring_Visits", sep=""),
                    paste(current_col_label, "major1_Descr_New", sep=""),
                    paste(current_col_label, "major2_Descr_New", sep=""),
                    paste(current_col_label, "major3_Descr_New", sep=""))
  
  # For the first 4 new columns
  # That is: "T_n_Term_Code", "T_n_Unit_Load", "T_n_Lived_On_Campus",
  # and "T_n_Num_Tutoring_Visits"
  for (ts_col in 1:4) {
    
    # Copy and paste the corresponding data from cleaned and reordered_data
    pivoted[current_entry, current_cols[ts_col]] <- cleaned_and_reordered[current_row, (length(static_data) + ts_col)]
  }
  
  # Enter a new major in the corresponding "new major" columns
  # if the student changed their major at the end of a term
  # Otherwise, fill the spot with NA
  if (current_major1 != cleaned_and_reordered[current_row, "major1_Descr"]) {
    
    # the number is the index of the "major1_Descr_New" string in current_cols
    pivoted[current_entry, current_cols[5]] <- cleaned_and_reordered[current_row, "major1_Descr"]
    current_major1 <- cleaned_and_reordered[current_row, "major1_Descr"]
  } else {
    pivoted[current_entry, current_cols[5]] <- NA
  }
  
  if (is.na(current_major2)) {
    
    # the number is the index of the "major2_Descr_New" string in current_cols
    if (!is.na(cleaned_and_reordered[current_row, "major2_Descr"])) {
       pivoted[current_entry, current_cols[6]] <- cleaned_and_reordered[current_row, "major2_Descr"]
       current_major2 <- cleaned_and_reordered[current_row, "major2_Descr"]
     } else {
       pivoted[current_entry, current_cols[6]] <- NA
     }
     
  } else {
     
     if ((is.na(cleaned_and_reordered[current_row, "major2_Descr"])) || (current_major2 != cleaned_and_reordered[current_row, "major2_Descr"])) {
       pivoted[current_entry, current_cols[6]] <- cleaned_and_reordered[current_row, "major2_Descr"]
       current_major2 <- cleaned_and_reordered[current_row, "major2_Descr"]
     } else {
       pivoted[current_entry, current_cols[6]] <- NA
     }
     
  }
   
  if (is.na(current_major3)) {
   
    # The number is the index of the "major3_Descr_New" string in current_cols
   if (!is.na(cleaned_and_reordered[current_row, "major3_Descr"])) {
      pivoted[current_entry, current_cols[7]] <- cleaned_and_reordered[current_row, "major3_Descr"]
      current_major3 <- cleaned_and_reordered[current_row, "major3_Descr"]
   } else {
      pivoted[current_entry, current_cols[7]] <- NA
   }
   
 } else {
    
    if ((is.na(cleaned_and_reordered[current_row, "major3_Descr"])) || (current_major3 != cleaned_and_reordered[current_row, "major3_Descr"])) {
      pivoted[current_entry, current_cols[7]] <- cleaned_and_reordered[current_row, "major3_Descr"]
      current_major3 <- cleaned_and_reordered[current_row, "major3_Descr"]
    } else {
      pivoted[current_entry, current_cols[7]] <- NA
    }
    
 }
  
  # Move on to the next term
  current_term <- current_term + 1
}

pdata <- pivoted
```

### Data Subsetting {#sec-data_subset}

For several analyses, continuous data were converted into categorical
groups. The total number of tutoring visits — `Tutoring_All` —
represented the cumulative number of sessions a student attended across
all terms enrolled. This variable was categorized into four groups: no
tutoring, low tutoring (1 to 5 visits), moderate tutoring (6 to 10
visits), and high tutoring (11 or more visits). The `AverageUnits`
variable reflected the average number of units enrolled across the terms
attended. Student average unit loads were categorized into: part-time
(11 or fewer units), full-time (12 to 17 units), and heavy course load
(18 or more units).

```{r}
#| message: false
#| warning: false
#| include: false
library(tidyverse)
library(plotly)
ddata <- pivoted
```

```{r}
#| message: false
#| warning: false
#| include: false
# Removes NA Values and sums rows for each student if over 1
BinaryChecker <- function(x) { 
              x[is.na(x)] <- 0
              as.integer(rowSums(x) > 0)
}
# Removes NA Values and sums rows for each student
SummaryChecker <- function(x) { 
              x[is.na(x)] <- 0
              as.integer(rowSums(x))
}
# Calculates Average values
AverageChecker <- function (x){
  rowMeans(x, na.rm = TRUE)
}

# Recodes Gender to binary 
ddata$Gender <- as.character(ddata$Gender)
ddata$Gender_Binary <- recode(ddata$Gender,
                              "Man" = "0",
                              "Woman" = "1",
                              .default = "1"
)

#Runs Binary/Summary Checker
ddata$Units_All <- SummaryChecker(ddata[, grep("_Unit_Load$", names(ddata))])
ddata$Housing_All <- BinaryChecker(ddata[, grep("_Lived_On_Campus$", names(ddata))])
ddata$Tutoring_All <- SummaryChecker(ddata[, grep("_Tutoring_Visits$", names(ddata))])
ddata$AverageUnits <- AverageChecker(ddata [,grep("_Unit_Load$", names(ddata))])
ddata$AverageTutoring <- AverageChecker(ddata[, grep("_Tutoring_Visits$", names(ddata))])
ddata$Tutoring_Binary <- BinaryChecker(ddata[, grep("_Tutoring_Visits$", names(ddata))])

# Adds & Calculates Terms Attended
ddata <- ddata %>% 
        rowwise() %>% 
        mutate(Terms_Attended = sum(!is.na(c_across(ends_with("_Unit_Load"))))) %>%
        ungroup()

ddata$Is_Transfer <- as.character(ddata$Is_Transfer)
```

Binning the Data

```{r}
# AverageUnits Binning (Part-time: 6-11, Medium(Full Time): 12-15, Heavy: 16-17)
ddata$AverageUnits_bin <- cut(ddata$AverageUnits,
                                breaks = c(0, 11, 15, 18),
                                include.lowest = TRUE,
                                labels = c("Parttime", "Fulltime", "Heavy"))

# Medium as reference
ddata$AverageUnits_bin <- factor(ddata$AverageUnits_bin,
                                   levels = c("Fulltime", "Parttime", "Heavy"))

# Tutoring_All binning
ddata$Tutoring_bin <- cut(ddata$Tutoring_All,
                          breaks = c(-1, 0, 5, 10,Inf),
                          include.lowest = TRUE,
                          labels = c("No Tutoring", "Low", "Moderate", "High"))

```

```{r}
# Recode Variables to Factors
ddata$Is_Hispanic <- factor(ddata$Is_Hispanic,
                            levels = c(0,1),
                            labels = c("Non Hispanic", "Hispanic"))

ddata$Gender_Binary <- factor(ddata$Gender_Binary,
                              levels = c(0,1),
                              labels = c("Male", "Female"))

ddata$Is_Transfer <- factor(ddata$Is_Transfer,
                            levels = c(0,1),
                            labels = c("Non Transfer", "Transfer"))

ddata$Housing_All <- factor(ddata$Housing_All,
                            levels = c(0,1),
                            labels = c("Non Housing", "Housing"))

ddata$Tutoring_Binary <- factor(ddata$Tutoring_Binary,
                            levels = c(0,1),
                            labels = c("No Tutoring", "Yes Tutoring"))

# Saves Binned/Binarized Data
bdata <- ddata
s1data <- bdata
s1data$Did_Graduate <- as.character(s1data$Did_Graduate)
s1data$Did_Graduate <- recode(s1data$Did_Graduate,
                            "No" = 0,
                            "Yes, with another major" = 0,
                            "Yes, with CS/IT/EMEC" = 1,
)
s1data$Did_Graduate <- factor(s1data$Did_Graduate,
                                   levels = c(0, 1),
                                   labels = c("Did Not Graduate", "Graduated"))

s2data <- bdata %>% filter(!(Did_Graduate == "No"))
```

Down-sampling

## Descriptive Statistics {#sec-descr_stats}

### Sample #1 {#sec-descr_1}

```{r}
#| include: false
sdata <- s1data
# Overall Sample Number
nrow(sdata)

# Gender Makeup 
nrow(sdata[sdata$Gender_Binary == "Female", ])
nrow(sdata[sdata$Gender_Binary == "Male", ])

# Hispanic Makeup
nrow(sdata[sdata$Is_Hispanic == "Hispanic", ])
nrow(sdata[sdata$Is_Hispanic == "Non Hispanic", ])

# Transfer Makeup
nrow(sdata[sdata$Is_Transfer == "Transfer", ])
nrow(sdata[sdata$Is_Transfer == "Non Transfer", ])

# Averages
summary(sdata$AverageUnits)
summary(sdata$Terms_Attended)

# Major Rates
nrow(sdata[sdata$Did_Graduate == "Did Not Graduate", ])
nrow(sdata[sdata$Did_Graduate == "Graduated", ])

```

Descriptive analyses were conducted to summarize the characteristics of
those in the first sample. Our sample included a total of 1,091
students, with 84.4% males (*n* = 921) and 15.6% females (*n* = 170).
Additionally, 60.9% of our sample identified as being Non-Hispanic (*n*
= 664) and 39.1% identified as being Hispanic (*n* = 427). About half of
the students did not transfer (54.1%; *n* = 590), with the other half
transferring (45.9%; *n* = 501).

In regards to students' class taking habits, the average units taken per
term was 11.42 while students stayed an average of 5.23 terms (*SD* =
3.11). Within the department, 73.9% majored in Computer Science, 16.7%
majored in Information Technology, and the remaining 4% majored in
Mechatronics Engineering.

In regards to students' graduation rates, 53.16% (*n* = 580) graduated
with a Bachelor's degree from the Department of Computer Science (i.e.
either "B.S. Computer Science," "B.S. Information Technology," or "B.S.
Mechatronics Engineering"), and 46.84% (*n* = 511) did not graduate.

Now that we have a better understanding of our sample, we will explain
the background of our statistical analyses.

```{r}
#| echo: false
#| column: screen-inset-shaded
#| layout-nrow: 2
# Gender Plot
ggplot(sdata, mapping = aes(x = fct_infreq(Gender_Binary), fill = Gender_Binary)) + 
      geom_bar() +
      scale_fill_manual(values= c("#E798A1","#A90806","#A90806","#E798A1"), guide="none") +
      labs(x = "Gender", y = "Number of Students") + 
      geom_text(stat = 'count', aes(label = ..count..), vjust = -0.5)

# Hispanic Plot
ggplot(sdata, mapping = aes(x = Is_Hispanic, fill = Is_Hispanic)) + 
      geom_bar() +
      labs(x = "Hispanic Staus", y = "Number of Students") +
      scale_fill_manual(values= c("#A90806","#E798A1"), guide="none") +
      scale_x_discrete(labels=c("Non-Hispanic", "Hispanic")) +
      geom_text(stat = 'count', aes(label = ..count..), vjust = -0.5)

# Transfer Plot
ggplot(sdata, mapping = aes(x = fct_infreq(Is_Transfer), fill = Is_Transfer, group = Is_Transfer)) +
      geom_bar() +
      labs(x = "Transfer Status", y = "Number of Students") +
      scale_fill_manual(values= c("#E798A1","#A90806"), guide="none") +
      scale_x_discrete(labels=c("Non-Transfer","Transfer")) +
      geom_text(stat = 'count', aes(label = ..count..), vjust = -0.5) 

# Lived on Campus
ggplot(sdata, mapping = aes(x = Housing_All, fill = Housing_All)) +
      geom_bar() +
      labs(x = "Lived On Campus (Throughout Education)", y = "Number of Students") +
      scale_fill_manual(values= c("#A90806","#E798A1"), guide="none") +
      scale_x_discrete(labels=c("Off-Campus","On-Campus")) +
      geom_text(stat = 'count', aes(label = ..count..), vjust = -0.5) 
  
# Graduation 
ggplot(sdata, mapping = aes(x = Did_Graduate, fill = Did_Graduate)) +
      geom_bar() +
      scale_fill_manual(values= c("#A90806","#E798A1", "#A90806"), guide="none") + 
      labs(x = "Graduation Status", y = "Number of Students") +
      geom_text(stat = 'count', aes(label = ..count..), vjust = -0.5) 

# Tutoring Binned
ggplot(sdata, mapping = aes(x = Tutoring_bin, fill = Tutoring_bin)) +
      geom_bar() +
      labs(x = "Student Status (Based on Units)", y = "Number of Students") +
      scale_fill_manual(values = c("#E798A1", "#A90806", "#E798A1", "#A90806"), guide = "none") +
      geom_text(stat = 'count', aes(label = ..count..), vjust = -0.5)   
  
# Student Status (Units)
ggplot(sdata, mapping = aes(x = AverageUnits_bin, fill = AverageUnits_bin)) +
      geom_bar() +
      scale_fill_manual(values= c("#E798A1", "#A90806", "#E798A1"), guide = "none") + 
      labs(x = "Student Status (Based off Units)", y = "Density",) + 
      geom_text(stat = 'count', aes(label = ..count..), vjust = -0.5)

# Units Density Plot  
ggplot(sdata, mapping = aes(x = Units_All)) +
      geom_density(adjust = 1L, fill = "#F6A6B0") +
      labs(x = "Units Taken", y = "Density",
      title = "Density of Units Taken") +
      theme(plot.title = element_text(size = 18L, hjust = 0.5),
            axis.title.y = element_text(size = 15L),
            axis.title.x = element_text(size = 15L))
```

### Sample #2 {#sec-descr_2}

```{r}
#| include: false
sdata <- s2data
# Overall Sample Number
nrow(sdata)

# Gender Makeup 
nrow(sdata[sdata$Gender_Binary == "Female", ])
nrow(sdata[sdata$Gender_Binary == "Male", ])

# Hispanic Makeup
nrow(sdata[sdata$Is_Hispanic == "Hispanic", ])
nrow(sdata[sdata$Is_Hispanic == "Non Hispanic", ])

# Transfer Makeup
nrow(sdata[sdata$Is_Transfer == "Transfer", ])
nrow(sdata[sdata$Is_Transfer == "Non Transfer", ])

# Averages
summary(sdata$AverageUnits)
summary(sdata$Terms_Attended)

# Major Rates
nrow(sdata[sdata$Did_Graduate == "Did Not Graduate", ])
nrow(sdata[sdata$Did_Graduate == "Graduated", ])

```

The sample consisted of 599 students, with 85.3% (*n* = 511) graduating
with a major within the computer science department and 14.7% (*n* = 88)
graduating with another major from a different department. Among the
students, 84.8% (*n* = 508) were males and 15.1% (*n* = 91) were
females. Hispanic students made up 35.7% (*n* = 214) of the sample,
while 64.7% (n = 385) identified as non-Hispanic. There were 62.9% (*n*
= 377) transfer students, and 71.1% (*n* = 426) were commuters.
Full-time students made up 62.9% (*n* = 185), whereas 30.9% (*n* = 185)
were part-time and 6.9% (*n* = 41) had heavy unit loads. 35.7% (*n* =
154) of the students had no tutoring sessions, 33.6% (*n* = 201) used
tutoring 1 to 5 times, 13.4% (*n* = 80) attended 6 to 10 sessions, and
27.4% (*n* = 164) attended tutoring 11 or more times.

# Statistical Analyses {#sec-stats_back}

As mentioned in @sec-methods, the following sections within Statistical
Analyses describe the statistical methods implemented in this study:
[Chi-square](@sec-cs_back), [logistic regression](@sec-lr_back), and the
[Cox Proportional Hazards model](@sec-sa_back). Each description for a
given statistical analysis method contains an explanation of the theory
and assumptions for that method.

### Chi-Square {#sec-cs_back}

The Chi-square test of independence was used to investigate group
differences between categorical variables. This non-parametric statistic
is appropriate when variables are measured at nominal levels (e.g.
Hispanic identity, transfer status, graduation, etc.) and when group
sample sizes are unequal (McHugh, 2013). The test evaluates whether the
observed counts in a contingency table differ from the expected
frequencies and determines whether an association exists between the two
categorical variables. For example, it can test whether graduation rates
differ between Hispanic and non-Hispanic students.

#### Theory

The Chi-square formula is as follows:

$$
\sum_{i=1,j=0}^{n}\chi_{i-j}^2 = \frac{(O-E)^2}{E}
$$

where $O$ represents the observed counts, $E$ represents the expected
counts, and $\chi_{i-j}^2$ represents the Chi-square value for each
cell, summed across all cells in the contingency table.

#### Assumptions

The assumptions of the Chi-square test are that each cell contains
frequencies or counts rather than percentages, that each participant
contributes to only one cell of the contingency table, and that expected
cell frequencies are below 5 for a 2 x 2 table or greater than 1 with no
more than 20% of counts below 5 for a larger table (McHugh, 2013).

### Logistic Regression {#sec-lr_back}

The binary logistic regression model was used to predict graduation.
This method allows for categorical and continuous variables, and models
the log-odds of a binary outcome (e.g., graduated vs. did not graduate).
The coefficients can be exponentiated to obtain odds ratios, which
indicate how changes in predictors affect the odds of graduation (Field,
2024).

#### Theory

The logistic regression equation is as follows:

$$
\log(\frac{p(X)}{1-p(X)}) = \beta_0 + \beta_1X_1 + \dots + \beta_pX_p
$$

where $\beta_0$ represents the baseline log-odds of graduation when all
predictors are equal to zero, and $\beta_1 \dots \beta_p$ represent the
change in log-odds associated with a one-unit increase in each
corresponding predictor. The parameters of a logistic regression model
are calculated using Maximum Likelihood Estimation, which identifies
values of $\beta_0, \beta_1 \dots \beta_p$ that make the predicted
probability of each observation align as closely as possible with the
binary outcome.

#### Assumptions

Before conducting logistic regression, several assumptions must be met.
First, each observation must be independent, meaning no repeated
measures or correlated outcomes are present. Second, there must be a
linear relationship between each continuous variable and the
logit-transformed outcome. Third, the predictor variables should not be
highly correlated with each other. Finally, the model should not include
strongly influential outliers (Stoltzfus, 2011).

### Survival Analysis {#sec-sa_back}

Survival Analysis is a category of statistical methods in which the
variable being studied is measured until a certain event occurs,
allowing for unique observations to be pulled from the data (Kleinbaum &
Klien, 2012). Survival analysis can account for participants who drop
out of the study prematurely before completing the event of interest. By
accounting for this group, survival analysis can have a larger sample
size and often explain more variance in the dependent variable. As
mentioned, there are many types of survival analyses, but the analysis
used in our study is the Cox Proportional Hazards Model.

#### Theory

The Cox Proportional Hazards Model is a semiparametric test that enables
statisticians to account for variables that affect the outcome of
interest otherwise known as their survival time (Kleinbaum & Klien,
2012). Due to its semiparamteric nature, it allows for a non-normal
distribution of the baseline hazard function, enabling the use of time
as a variable. Additionally, allows statisticians to account for
time-varying predictor variables, not just variables measured at the
beginning of a study. Its formula is as follows:

$$
h(t|X) = h_0(t)\cdot e^{\sum_{i=1}^{p}\beta_iX_i}
$$

The $h(t|X)$ portion of the equation refers to hazard rate at a certain
time for individuals, meaning their likelihood of the outcome of
interest. $h_0(t)$ refers to the baseline hazard rate at a given time,
with $e^{\sum_{i=1}^{p}\beta_iX_i}$ being a linear combination of each
covariate (predictor variable) along with their coefficient ($\beta_i$).
The coefficient tells us the change in log-hazard ratio for a one unit
change in the covariate ($X_i$). Now that we understand the formula, the
assumptions will be examined.

#### Assumptions

As with most statistical methods, there are a few assumptions that the
Cox Proportional Hazards model must meet before its use (Kleinbaum &
Klien, 2012). First, the hazard ratio must be the same over the period
of time, meaning that the effect a covariate has on the survival
likelihood must be the same across time. Second, observations must be
independent of each other, meaning that one participant's drop-out does
not affect the likelihood of another dropping out. Third, censoring must
be non-informative. This assumption says that censoring must be
independent, meaning no group has preferential attrition due to the
event of interest. Lastly, it is assumed that the predictors have a
linear relationship with the log hazard rate, and there is no
multicollinearity among them. Now that we have discussed the backgrounds
to the statistics we will be using, lets look at how they worked on our
dataset.

# Results

## Sample #1

### Inferential Statistics

#### Gender

```{r}
#| include: false
sdata <- s1data
mdata <- sdata[sdata$Gender_Binary == "Male", ]
fdata <- sdata[sdata$Gender_Binary == "Female", ]

mean(mdata$Terms_Attended) # Male Terms Mean
mean(fdata$Terms_Attended) # Female Terms Mean

nrow(mdata[mdata$Did_Graduate == "Graduated", ]) / nrow(mdata)
nrow(fdata[fdata$Did_Graduate == "Graduated", ]) / nrow(fdata)

chi_gender_grad <- table(sdata$Gender_Binary, sdata$Did_Graduate)
chisq.test(chi_gender_grad)
```

Computer science programs have historically under-represented women and
non-binary populations. This same relationship can be seen from the data
from Channel Islands. Recall that due to the small sample size of
non-binary (*n* = 1), their value was re-coded as being female. It was
found that both males and females stay at Channel Islands roughly the
same amount of terms with males staying 5.23 terms and females staying
5.17 terms on average. Graduation rates were found to be
non-significantly different (*p* \> .05), with males graduating 47.67%
of the time and females 42.35% of the time across all terms.

#### Hispanic Status

```{r}
#| include: false
nhisdata <- sdata[sdata$Is_Hispanic == "Non Hispanic", ]
hisdata <- sdata[sdata$Is_Hispanic == "Hispanic", ]

nrow(nhisdata[nhisdata$Did_Graduate == "Graduated", ]) / nrow(nhisdata)
nrow(hisdata[hisdata$Did_Graduate == "Graduated", ]) / nrow(hisdata)

chi_his_grad <- table(sdata$Is_Hispanic, sdata$Did_Graduate)
chisq.test(chi_his_grad)
```

Due to Channel Islands being a Hispanic Serving Institution (HSI),
exploration of students' Hispanic Status was important to the research.
Hispanic students were found to graduate 41.92% of the time, whereas
their Non-Hispanic counterparts graduated 50% of the time. Further
examination revealed a significant difference in graduation rate among
the two groups, (*p* \< .01).

#### Gender and Hispanic Status

It was found that Hispanic males graduate 43.85**%** of the time,
whereas their Non-Hispanic male counterparts graduate 50.01**%** of the
time. Similarly, Hispanic females graduate 31.88**%** of the time and
Non-Hispanic females graduate 49.50**%** of the time. This showcases a
large disparity between Hispanic and Non-Hispanic students. In addition,
there is a 11.97**%** difference in graduation rates among Hispanic
males and females, whereas this disparity is not seen in their
Non-Hispanic counterparts.s

```{r}
#| include: false
mhisdata <- mdata[mdata$Is_Hispanic == "Hispanic", ] # Male Hispanic
fhisdata <- fdata[fdata$Is_Hispanic == "Hispanic", ] # Female Hispanic
  
mnhisdata <- mdata[mdata$Is_Hispanic == "Non Hispanic", ] # Male Not Hispanic
fnhisdata <- fdata[fdata$Is_Hispanic == "Non Hispanic", ] # Female Not Hispanic

nrow(mhisdata[mhisdata$Did_Graduate == "Graduated", ]) / nrow(mhisdata) # Male Hispanic
nrow(fhisdata[fhisdata$Did_Graduate == "Graduated", ]) / nrow(fhisdata) # Female Hispanic
nrow(mnhisdata[mnhisdata$Did_Graduate == "Graduated", ]) / nrow(mnhisdata) # Male Not Hispanic
nrow(fnhisdata[fnhisdata$Did_Graduate == "Graduated", ]) / nrow(fnhisdata) # Female Not Hispanic
```

### Logistic Regression

A logistic regression analysis was conducted to determine whether
Hispanic identity, gender, transfer status, tutoring visits, enrollment
status, and housing predicted graduation. Variance inflation factor
(VIF) values ranged from 1.01 to 1.35, indicating no multicollinearity
among the predictors. The overall model significantly improved
prediction over the null model, X²(9) = 259.70, p \< .001. The model
accounted for 21.4% (Cox and Snell R² = .214) to 28.5% (Nigelkerke R² =
.285) of the variance in graduation, with 69.91% classification
accuracy.

Hispanic identity, transfer status, housing, part-time status, and
tutoring significantly predicted graduation. Hispanic students had 0.74
lower odds of graduating compared to non-Hispanic students. Part-time
students had 0.44 lower odds of graduating than full-time students, and
living in campus housing had 0.69 lower odds of graduating. Transfer
students had 4.82 times higher odds of graduating than non-transfer
students, and compared to students who received no tutoring, those with
1–5 tutoring sessions had 2.87 times higher odds of graduating, those
with 6–10 sessions had 4.99 times higher odds, and those with 11 or more
sessions had 8.07 times higher odds.

### Survival Analysis

*Important Note: The Cox Proportional Hazards Model was incorrectly
implemented to this dataset due to the assumption of non-informative
censoring being broken. Regardless, it was left in to test the analysis
on the dataset in the pursuit of learning.*

The Cox Proportional Hazards model was run on the event of graduation,
with the covariates of number of tutoring visits, Hispanic status,
gender, lived on campus, and transfer status.

```{r}
#| eval: false
#| include: false
# Cox Proportional Hazards Model w/All Variables 
CoxAll <- coxph(Surv(time = start, time2 = stop, event = Did_Graduate_Binary) 
              ~  Num_Tutoring_Visits + Is_Hispanic + Gender_Binary + Lived_On_Campus + Is_Transfer, 
              data = sdata) 
CoxAll |> 
  tbl_regression(exp = TRUE)
summary(CoxAll) 
```

It was found that number of tutoring visits was significant (*p* \<
.01), with every tutoring visit indicating a 3.06% decrease in the
hazard of graduation. It was also found that Hispanic students hazard of
graduating is about 17.97% lower than that of Non-Hispanic Students (*p*
\< .05). Lastly, transfer students were found to have a increase of
300.97% in their hazard of graduation compared to those who were not
transfer students (*p* \< .001). Overall the model has good predictive
ability with a concordance of 0.736 (*SE* = 0.012), and fit the data
quite well χ²(4, N = 5617) = 206.9, *p* \< 0.001.

```{r}
#| eval: false
#| include: false
# Checking the Proportional Hazards Assumption
PHA <- cox.zph(CoxAll, global = FALSE)
print(PHA)
plot(PHA) 
```

Regarding our assumptions, we did not meet the proportional hazards
assumption for all of our predictors. The predictors of transfer status
and lived on campus status were both significant, indicating that our
hazard ratios changed over time. This can be seen in the above charts,
with beta values changing over time for the aforementioned predictors.
Additionally, the assumption of censoring being non-informative was
broken as well. This was due to the fact that graduation did have an
impact on student's censoring with dropping out being a specific
subgroup of interest. Regardless of assumptions, the Kaplan-Meier curve
was included for learning.

```{r}
#| eval: false
#| include: false
# All Variables Fit Graph
survival_fit <- survfit(CoxAll)
ggsurvplot(survival_fit, data = ddata, conf.int = TRUE, color = "#2E9FDF",
          xlab = "Time", ylab = "Survival Probability",
          title = "Survival Curves from Cox Proportional Hazards Model")

# Gender Fit
CoxGen <- survfit(Surv(start, stop, Did_Graduate_Binary) ~ Lived_On_Campus, data = ddata)
summary(CoxGen)
ggsurvplot(CoxGen, data = ddata, conf.int = TRUE, 
            xlab = "Time", ylab = "Survival Probability",
            title = "Survival Curves (Gender)")
```

The above Kaplan-Meier curve shows the overall survival probability for
our sample. The curves can be interpreted with *time on the bottom, and
the probability of survival on the left. The curves indicate small
differences in survival time for most predictors, whereas transfer
status shows a large difference because the curves are* far apart.

## Sample #2

### Inferential Statistics

#### Hispanic Status

#### Transfer Status

#### Majors

### Logistic Regression

Hispanic identity, gender, transfer status, tutoring visits, enrollment
status, and housing were used to predict graduation. The variance
inflation factor (VIF) values ranged from 1.02 - 1.13, indicating no
multicollinearity. The overall model significantly improved prediction
over the null model, X² (9) = 473.279, p \< .001, with an overall
classification accuracy of 85.14%. The model accounted for 11.5% (Cox
and Snell R² = .115) to 20.3% (Nigelkerke R² = .203) of the variance in
graduation. In this sample of 599 students, tutoring and transfer status
significantly predicted graduation. Compared with students who received
no tutoring, students with 1–5 tutoring sessions had 1.99 times higher
odds of graduating, those with 6–10 sessions had 4.63 times higher odds,
and those with 11 or more sessions had 4.66 times higher odds. However,
Hispanic identity, gender, enrollment status, and housing were not
significant predictors of graduation.

# Discussion

Results (colorful language), Possible intervention demographics,
limitations, and future directions.

# Other

## References

Kleinbaum, D., & Klien, M. (2012). *Survival Analysis: A Self‐Learning
Text*. Springer.

[Multi-Institution Study of Student Demographics and Stickiness of
Computing Majors in the
USA](https://www.researchgate.net/publication/339337135_Multi-institution_study_of_student_demographics_and_stickiness_of_computing_majors_in_the_USA)

[Inclusion in Tech: How Diversity Benefits All
Americans](https://www.govinfo.gov/content/pkg/CHRG-116hhrg37565/pdf/CHRG-116hhrg37565.pdf)

[Computing Bachelor's Degrees Awarded vs US College Age Population by
Race/Ethnicity and Gender/Sex
(2022)](https://cra.org/crn/2024/02/computing-bachelors-degrees-awarded-vs-us-college-age-population-by-race-ethnicity-and-gender-sex-2022/)

[High Tech, Low Inclusion: Diversity in the High Tech Workforce and
Sector
2014-2022](https://web.archive.org/web/20240911213641/https://www.eeoc.gov/sites/default/files/2024-09/20240910_Diversity%20in%20the%20High%20Tech%20Workforce%20and%20Sector%202014-2022.pdf)

[Degrees Dashboard:
Programs](https://oneci.csuci.edu/t/IRPEGuest/views/DegreesAwarded/PROGRAMP?%3Aembed=y&%3Aiid=1&%3AisGuestRedirectFromVizportal=y)

[HBCUs and HSIs: How are we Doing in Graduating
Engineers](https://www.proquest.com/docview/1692817472?accountid=7284&parentSessionId=euZW7j6UYFQSRVu%2FEyAL09bZlz%2BUNaOawbv8VWz5uBk%3D&pq-origsite=primo&sourcetype=Conference%20Papers%20&%20Proceedings)

## Acknowledgements

A big thanks to Dr. Kryshchenko for giving us the platform to be able to
conduct this research. Her continued support was much appreciated
throughout the entire process.

```{r}
#                      /^--^\     /^--^\     /^--^\
#                      \____/     \____/     \____/
#                     /      \   /      \   /      \
#                    |        | |        | |        |
#                     \__  __/   \__  __/   \__  __/
#|^|^|^|^|^|^|^|^|^|^|^|^\ \^|^|^|^/ /^|^|^|^|^\ \^|^|^|^|^|^|^|^|^|^|^|^|
#| | | | | | | | | | | | |\ \| | |/ /| | | | | | \ \ | | | | | | | | | | |
#| | | | | | | | | | | | / / | | |\ \| | | | | |/ /| | | | | | | | | | | |
#| | | | | | | | | | | | \/| | | | \/| | | | | |\/ | | | | | | | | | | | |
##########################################################################
#| | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | |
#| | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | |
```
